<div class="container">

  <div class="row">

    <div class="col-12">

      <div class="card my-5">
        <div class="card-header">
          Salida de almacen
        </div>
        <div>
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th style="width:45px"></th>
                  <th>Id</th>
                  <th>Categoría</th>
                  <th>Producto</th>
                  <th>Unidad</th>
                  <th>Factura</th>
                  <th style="width:140px">Salida</th>
                  <th style="width:65px"></th>
                </tr>
              </thead>

              <tbody>
                <!-- <ng-container *ngFor="let producto of productos;let i= index"> -->
                <tr *ngFor="let producto of productos;let i= index">
                  <td style="cursor: pointer;" (click)="more[i] =!more[i]">
                    <i [ngClass]="more[i]?'fa fa-minus-square':'fa fa-plus-square'"></i>
                  </td>
                  <td>{{producto.id_producto}}</td>
                  <td>{{producto.categoria}}</td>
                  <td>{{producto.nombre}}</td>
                  <td>{{producto.unidad}}</td>
                  <td>{{producto.num_factura}}</td>
                  <td><input type="text" class="form-control"></td>
                  <td>
                    <button md-icon-button [mdMenuTriggerFor]="menu">
                        <md-icon>more_vert</md-icon>
                      </button>
                    <md-menu #menu="mdMenu">
                      <button md-menu-item (click)="editarProducto(producto)">
                          <md-icon>create</md-icon>
                          <span>Editar</span>
                        </button>
                      <button md-menu-item (click)="agregarFicha()">
                          <md-icon>attach_file</md-icon>
                          <span>Ficha técnica</span>
                        </button>
                      <button md-menu-item>
                          <md-icon>delete</md-icon>
                          <span>Eliminar</span>
                        </button>
                    </md-menu>
                  </td>
                </tr>


                <!--       <tr *ngIf="more[i]">
                    <td colspan="6" class="p-0">
                      <table class="table table-striped mb-0">                       
                        <tr>                       
                          <td></td>
                          <td></td>
                          <td style="width:150px">FK34909090</td>
                          <td class="text-right" style="width:110px">100000</td>
                          <td style="width:120px"><input type="text" class="form-control"></td>
                          <td style="width:65px"></td>
                        </tr>
                   
                      </table>
                    </td>
                  </tr>
                </ng-container> -->
              </tbody>
            </table>
          </div>
        </div>

        <div class="card-footer">
          <form>
            <div class="form-group row">
              <label for="3" class="col-sm-2 col-form-label">Tipo</label>
              <div class="col-sm-10">
                <div class="form-check">
                  <label class="form-check-label">
               <input type="radio" class="form-check-input" name="tipo" value="M" [(ngModel)]="tipo_salida">
               Muestreo
              </label>
                </div>
              </div>
              <div class="col-sm-10 offset-sm-2">
                <div class="form-check">
                  <label class="form-check-label">
               <input type="radio" class="form-check-input" name="tipo" value="O" [(ngModel)]="tipo_salida">
                Orden de compra
              </label>
                </div>
              </div>

            </div>
            <div class="form-group row" *ngIf="tipo_salida==='O'">
              <label for="1" class="col-sm-2 col-form-label">Cliente</label>
              <div class="col-sm-10">
                <input class="form-control" type="text" value="" id="1">
              </div>
            </div>

            <div class="form-group row">
              <label for="3" class="col-sm-2 col-form-label">Orden de pedido</label>
              <div class="col-sm-10">
                <input class="form-control" type="text" value="" id="3">
              </div>
            </div>
          </form>
          <div class="form-group row">
            <div class="offset-sm-2 col-sm-10">
              <button type="button" class="btn btn-primary">Aceptar</button>
            </div>
          </div>
        </div>

      </div>

    </div>
  </div>

</div>